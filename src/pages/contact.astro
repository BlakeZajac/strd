---
export const prerender = false;

import { actions } from "astro:actions";

import Layout from "../layouts/Layout.astro";
import ContactForm from "../components/ContactForm.astro";
import Hero from "../components/Hero.astro";
import List from "../components/List.astro";
import { createContactPageSchema } from "../lib/schema";

import socialData from "../content/social.json";

const result = Astro.getActionResult(actions.send);

if (result && !result.error) {
	return Astro.redirect("/contact?status=sent");
}
---

<Layout
	title="Start a project | STRD"
	description="Share a few details about your project and Blake will be in touch to discuss how you can work together."
	schema={createContactPageSchema("Contact Blake Zajac | STRD", "contact")}
>
	<Hero title="Start a project" />
	<ContactForm />
	<List type="social" data={socialData} />
</Layout>
