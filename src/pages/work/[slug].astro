---
export const prerender = true;

import { getCollection } from "astro:content";

import Layout from "../../layouts/Layout.astro";
import Hero from "../../components/Hero.astro";

export async function getStaticPaths() {
	const workItems = await getCollection("work");
	return workItems.map((item) => ({
		params: { slug: item.slug },
		props: { item },
	}));
}

const { item } = Astro.props;
const { Content } = await item.render();
---

<Layout
	title={`${item.data.title} | WordPress project by Blake Zajac | STRD`}
	description={item.data.description ??
		"A WordPress project designed and developed by Blake Zajac."}
	schema={{
		"@context": "https://schema.org",
		"@type": "WebPage",
		name: `${item.data.title} | WordPress project by Blake Zajac`,
		url: `https://blakezajac.com/work/${item.slug}`,
	}}
>
	<Hero title={item.data.title} description="In progress" />
	<Content />
</Layout>
