---
interface Props {
    type: "education" | "experience" | "social";
    data: {
        title?: string;
        items: Array<{
            // Education Fields
            year?: string;
            institution?: string;
            qualification?: string;
            // Experience Fields
            dates?: string;
            company?: string;
            role?: string;
            // Social Fields
            platform?: string;
            handle?: string;
            // Common Fields
            url?: string;
        }>;
    };
}

const { data, type } = Astro.props;
---

<div class="l-section">
    <div class="l-container">
        <div class="list-2col">
            <div class="list-2col__unit list-2col__unit--01">
                <div class="list-title">{data?.title}</div>
            </div>

            <div class="list-2col__unit list-2col__unit--02">
                {
                    data?.items?.map((item) => (
                        <div class="list-3col">
                            <div class="list-text">
                                {type === "social"
                                    ? item.platform
                                    : item.dates || item.year}
                            </div>

                            {item.url ? (
                                <a
                                    href={item.url}
                                    target="_blank"
                                    class="list-link"
                                >
                                    {type === "social"
                                        ? item.handle
                                        : item.company || item.institution}
                                </a>
                            ) : (
                                <div class="list-text">
                                    {type === "social"
                                        ? item.handle
                                        : item.company || item.institution}
                                </div>
                            )}

                            {type !== "social" && (
                                <div class="list-text">
                                    {item.role || item.qualification}
                                </div>
                            )}
                        </div>
                    ))
                }
            </div>
        </div>
    </div>
</div>
